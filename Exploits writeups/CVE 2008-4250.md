# Vulnerability in Server Service Could Allow Remote Code Execution

The Server service in various Microsoft Windows versions, including Windows 2000 SP4, XP SP2 and SP3, Server 2003 SP1 and SP2, Vista Gold and SP1, Server 2008, and 7 Pre-Beta, is susceptible to a security issue. Remote attackers can potentially execute arbitrary code by sending a specifically crafted RPC request. This request triggers an overflow during path canonicalization, a process that standardizes file paths. This vulnerability was exploited in the wild by Gimmiv.A in October 2008 and is commonly known as the "Server Service Vulnerability."
https://www.cvedetails.com/cve/CVE-2008-4250/

**Scanning:**
nmap -sV -A -script=smvb-vuln-ms08-067 [ip]

<img width="818" alt="image" src="https://github.com/sudoblanc/Exploiting-Windows-XP-In-a-close-lab-environment/assets/117925677/01a51bcf-c3c5-418e-88de-44794f426b99">


<img width="515" alt="image" src="https://github.com/sudoblanc/Exploiting-Windows-XP-In-a-close-lab-environment/assets/117925677/83780e93-a4f2-4eff-8507-edd9cc9f8b37">

**Scan Summary:**
- Port 445/TCP running Microsoft-ds service
  What is this service and how does this vulnerability get exploited over this port?
https://www.janbasktraining.com/community/sql-server/what-is-microsoft-ds-how-vulnerable-is-microsoft-ds
- Speciific search for ms08-067 from nmap scripts to determine if the target has this vulnerability which was proven positive by use of this script



**Exploitation using Metasploit Framework:**

Steps: 
- Searching the exploit module for ms08-067
- using ms08-067 and setting target to automatic
- setting the RHOST ( target address), in this case windows Xp
- Setting payload to generate reverse shell to gain Remote Code Execution using payload : use payload windows/shell_reverse_tcp

  ![image](https://github.com/sudoblanc/Exploiting-Windows-XP-In-a-close-lab-environment/assets/117925677/c7f8860d-198d-48e6-9f07-d1cf2bfe2d56)

  
- setting the LHOST ( listening address ), in this case KALI VM
- Using the exploit 
- System Exploited!

  <img width="650" alt="image" src="https://github.com/sudoblanc/Exploiting-Windows-XP-In-a-close-lab-environment/assets/117925677/27038039-ec14-4e4f-ab88-dd521ca92563">
  



**Assessement**


More more informative on how the vulnerability got exploited see : Exploits and Understanding Folder 

https://www.cvedetails.com/cve/CVE-2008-4250/
